import { Button, VerticalBox, LineEdit } from "std-widgets.slint";

export component AppWindow inherits Window {
    in-out property <string> footer: "";
    in-out property <string> archive_path: "";
    in-out property <string> game_path: "";

    callback request_archive_path();
    callback request_game_path();
    callback mod();

    title: "Game Modding Tool";
    min-height: 150px;
    min-width: 600px;

    VerticalLayout {
        spacing: 10px;
        padding: 50px;

        VerticalLayout {
            Text {
                text: "Path to directory containing compressed files ( RAR - ZIP - 7z)";
                horizontal-alignment: center;
            }

            HorizontalLayout {
                spacing: 10px;
                LineEdit {
                    text: root.archive_path;
                    edited(text) => {
                        root.archive_path = text;
                    }
                }

                Button {
                    width: 200px;
                    text: "Open directory";
                    clicked => {
                        root.request_archive_path();
                    }
                }
            }
        }

        VerticalLayout {
            Text {
                text: "Path to game directory";
                horizontal-alignment: center;
                vertical-alignment: center;
            }

            HorizontalLayout {
                spacing: 10px;
                LineEdit {
                    text: root.game_path;
                    edited(text) => {
                        root.game_path = text;
                    }
                }

                Button {
                    width: 200px;
                    text: "Open game location";
                    clicked => {
                        root.request_game_path();
                    }
                }
            }
        }

        Button {
            text: "Uncompress and move into game dir";
            clicked => {
                root.mod();
            }
        }

        Text {
            text: root.footer;
            horizontal-alignment: center;
        }
    }
}
